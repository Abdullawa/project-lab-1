#include <msp430.h>

void main(void)
{
    WDTCTL = WDTPW | WDTHOLD;    // Stop watchdog
    PM5CTL0 &= ~LOCKLPM5;        // Unlock GPIO

    // LED output
    P1DIR |= BIT0;               
    P1OUT &= ~BIT0;              

    // TSOP input
    P2DIR &= ~BIT0;               // P2.0 input
    P2REN |= BIT0;                // pull-up
    P2OUT |= BIT0;                // pull-up selected

    while (1)
    {
        if (!(P2IN & BIT0))       // TSOP active-low
            P1OUT |= BIT0;       // LED ON
        else
            P1OUT &= ~BIT0;      // LED OFF
    }
}
